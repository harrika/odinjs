<!DOCTYPE html>
<html>
<head>
	<title>rock paper scissors in javascript</title>
	<style type="text/css">
		.winner {
			font-weight: bold;
		}
	</style>
</head>
<body>
	
	<h3>The Rock Paper game</h3>

	<h3>click a button to select</h3>
	<button onclick="playselect('rock')"> Rock </button> 
	<button onclick="playselect('paper')"> Paper </button> 
	<button onclick="playselect('scissors')"> Scissors </button> 
	<hr><br>

	<div id="container"></div>

	<script type="text/javascript">

		var games = 0;
		var finalresu = 0;
		var finalresc = 0;

		const container = document.querySelector('#container');
		const content = document.createElement('div');
		const content2 = document.createElement('div');
		const content3 = document.createElement('div');
		const content4 = document.createElement('div');
		content4.classList.add('winner');
		
	computerPlay = () => {
		ran = (arr) =>  arr[Math.floor(Math.random() * arr.length)];
	  	ss = ran(['Rock', 'Paper', 'Scissors']);
	  	return ss.toLowerCase();	
    } 


    function playselect(ss) {
    	if (finalresu>4 || finalresc >4) {
    		content3.textContent ="Refresh to start new Game";
    	} else {
    		finalres = playRound(ss);
    		finalresu += finalres[0];
    		finalresc += finalres[1];    	

    		if (finalresu>4 || finalresc >4) {
    			if (finalresu>finalresc) {
    				winner = "...YOU"
    			} else {
    				winner = "...SUPERCOMPUTER"
    			}
 				content.textContent = "FINAL result ******  COMPUTER: "+finalresc+" | YOUR RESULT: "+finalresu;
 				content4.textContent = "And the WINNER is ...............  "+winner; 
    		} else {
    		content.textContent ="Running results COMPUTER:   "+finalresc +"| YOU:   "+finalresu;
    		}
    	}
    	container.appendChild(content);
    	container.appendChild(content4);
    	container.appendChild(content3);
    }

    function playRound(playerSelection) {    	
    	p = playerSelection;
    	c = computerPlay();
		ad = 'This is a DRAW';
		resu = 0;
		resc = 0;
		
		if (p == 'rock') {
			if (c == 'paper') {			  	
			  	ad = "Computer wins:  Paper beats Rock"
			  	resc ++;
			} else if (c == 'scissors') {
				ad = "You win:   Rock beats Scissors";
				resu++;
			} 
		}

		if (p == 'paper') {
			if (c == 'rock') {
			  	ad = "You win:  Paper beats Rock"; 
			  	resu++;
			} else if (c == 'scissors') {
				ad = "Computer wins:   Scissors beat Paper";
				resc++;
			} 
		}

		if (p == 'scissors') {
			if (c == 'paper') {
			  	ad = "You win:   Scissors beat Paper";
			  	resu++;
			} else if (c == 'rock') {
				ad = "Computer wins:   Rock beats Scissors";
				resc++;
			} 
		}
		games += 1;
		content2.textContent =ad+"........................."+games+" games played";
		container.appendChild(content2);
		return [resu, resc];
	}

	</script>

</body>
</html>

